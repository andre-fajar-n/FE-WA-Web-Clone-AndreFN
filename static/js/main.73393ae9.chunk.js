(this.webpackJsonpwa_web_clone=this.webpackJsonpwa_web_clone||[]).push([[0],{102:function(e,a,t){},103:function(e,a,t){},110:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},112:function(e,a,t){e.exports=t.p+"static/media/user.498d600c.jpeg"},132:function(e,a,t){},133:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(18),c=t.n(l),s=(t(102),t(103),t(35)),o=t(36),u=t(40),m=t(38),i=t(37),p=t(29),d=t(15),f=t(7),h=t.n(f),E=t(12),g=t(16),v=t(6),b=t(64),y=t(39),w=t(14),S=t(10),k=t(48),x=t(75),N=function(e){return console.warn("cek show status",e.item["handle_modal_".concat(e.username)].handleCloseStatus),r.a.createElement(n.Fragment,null,r.a.createElement(k.a,{dialogClassName:"modal-show-status"},r.a.createElement(y.a,{className:"navbar-show-status"},r.a.createElement(w.a.Link,{style:{color:"#ffffff"}},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement(w.a.Link,{style:{color:"#ffffff"},className:"ml-auto"},r.a.createElement("i",{className:"fas fa-times"}))),r.a.createElement(x.a,{className:"each-status"},e.allStatus.map((function(a){return r.a.createElement(x.a.Item,null,r.a.createElement("img",{className:"d-block",src:t(110),alt:"".concat(a.image)}),r.a.createElement(x.a.Caption,null,r.a.createElement("h3",null,e.username),r.a.createElement("p",null,a.content)))})))))},_=function(e){var a=Object(n.useState)(!1),l=Object(b.a)(a,2),c=l[0],s=l[1],o=function(){return s(!1)},u=function(){return s(!0)},m=e.listStatus.map((function(e){return e["handle_modal_".concat(e.username)]={showStatus:c,handleShowStatus:u,handleCloseStatus:o},e}));return console.warn("cek handle modal",m),r.a.createElement(g.a,{className:"m-0"},r.a.createElement(v.a,{md:4,className:"p-0 header-status"},r.a.createElement(g.a,{className:"m-0 navbar-status"},r.a.createElement(v.a,{md:2,className:"p-0"},r.a.createElement("i",{className:"fas fa-user-circle"})),r.a.createElement(v.a,{md:"auto",className:"p-0"},r.a.createElement("div",null,"My Status"),r.a.createElement("div",{style:{color:"hsla(0,0%,100%,0.55)"}},"Update Status"))),r.a.createElement("div",{className:"list-status"},r.a.createElement("hr",{style:{borderTop:"1px solid hsla(0,0%,100%,0.55)"}}),r.a.createElement("span",{style:{color:"hsla(0,0%,100%,0.55)"}},"Recent"),m.map((function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(p.b,{onClick:e["handle_modal_".concat(e.username)].handleShowStatus,style:{color:"hsla(0,0%,100%,0.55)"}},r.a.createElement(g.a,null,r.a.createElement(v.a,{md:2,className:"p-0"},r.a.createElement("img",{className:"avatar",src:t(112),alt:""})),r.a.createElement(v.a,{md:"auto",className:"p-0"},r.a.createElement("div",{style:{color:"#ffffff"}},e.username),r.a.createElement("div",null,"status")))),r.a.createElement(N,{username:e.username,item:e,allStatus:e.all_status}))})))),r.a.createElement(v.a,{md:8,className:"p-0",style:{backgroundColor:"#000000",color:"hsla(0,0%,100%,0.55)"}},r.a.createElement(y.a,{className:"close-status"},r.a.createElement(w.a.Link,{className:"ml-auto",style:{color:"#ffffff"},onClick:e.handleCloseListStatus},r.a.createElement("i",{className:"fas fa-times"}))),r.a.createElement("div",{className:"blank-status"},r.a.createElement("i",{style:{fontSize:"50vh"},className:"fas fa-circle-notch"}),r.a.createElement("br",null),r.a.createElement("span",null,"Click on contact to view their status updates"))))},I=t(96),A=t(43),C=function(e){var a=Object(n.useState)(!1),t=Object(b.a)(a,2),l=t[0],c=t[1],s=function(){return c(!1)},o=Object(n.useState)(!1),u=Object(b.a)(o,2),m=u[0],i=u[1],d=function(){return i(!1)},f=function(){var a=Object(E.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.doLogout();case 2:e.history.push("/login");case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",{style:{position:"fixed",width:"".concat(4/12*100,"%"),left:"0",right:"".concat(4/12*100,"%"),zIndex:"999"}},r.a.createElement(y.a,{style:{backgroundColor:"#ededed",height:"64px"},className:"p-0"},r.a.createElement(w.a.Link,{className:"mr-auto",onClick:function(){return c(!0)}},r.a.createElement("i",{style:{fontSize:"30px"},md:2,className:"fas fa-user-circle"})),r.a.createElement(k.a,{dialogClassName:"modal-profile",show:l,onHide:s},r.a.createElement(k.a.Header,{className:"header-profile"},r.a.createElement(p.b,{style:{color:"#ffffff"},onClick:s},r.a.createElement("i",{className:"fas fa-arrow-left"})),r.a.createElement("div",null,"Profile")),r.a.createElement(k.a.Body,{className:"p-0 body-profile"},r.a.createElement("div",{style:{backgroundColor:"#ededed"}},"Profile Picture"),r.a.createElement("div",null,localStorage.getItem("username")),r.a.createElement("div",{style:{backgroundColor:"#ededed"}},"This is not your username or pin. This name will be visible to your Whatsapp contacts"),r.a.createElement("div",null,"about"))),r.a.createElement(w.a,{className:"ml-auto",style:{color:"black"}},r.a.createElement(w.a.Link,{onClick:function(){return i(!0)}},r.a.createElement("i",{style:{fontSize:"20px"},className:"fas fa-circle-notch"})),r.a.createElement(k.a,{dialogClassName:"modal-status",show:m,onHide:d},r.a.createElement(_,{listStatus:e.listStatus,handleCloseListStatus:d})),r.a.createElement(w.a.Link,null,r.a.createElement("i",{style:{fontSize:"20px"},className:"fas fa-comment-dots"})),r.a.createElement(I.a,{trigger:"click",placement:"bottom",overlay:r.a.createElement(A.a,{id:"popover-positioned-bottom"},r.a.createElement(A.a.Content,null,"New Group"),r.a.createElement(A.a.Content,null,"Profile"),r.a.createElement(A.a.Content,null,"Archieved"),r.a.createElement(A.a.Content,null,"Starred"),r.a.createElement(A.a.Content,null,"Settings"),r.a.createElement(A.a.Content,{onClick:function(){return f()}},"Log Out"))},r.a.createElement(w.a.Link,null,r.a.createElement("i",{style:{fontSize:"20px"},className:"fas fa-ellipsis-v"}))))),r.a.createElement(S.a.Group,{className:"p-2 m-0",style:{backgroundColor:"#f7f7f7"}},r.a.createElement(S.a.Control,{type:"text",placeholder:"Search or start new chat",style:{borderRadius:"50px"},autoFocus:!0})))},j=t(11),O=t(84),M=function(e){var a="";a="string"==typeof e.value.info_chat.username?e.value.info_chat.username:e.value.info_chat.name;var t=e.value.last_chat.message,l=parseInt(O.utc(e.value.last_chat.created_at).format("D")),c=parseInt(O().format("D")),s="";return s=c-l<1?O.utc(e.value.last_chat.created_at).format("HH:mm"):c-l===1?"Yesterday":c-l<8?O.utc(e.value.last_chat.created_at).format("dddd"):O.utc(e.value.last_chat.created_at).format("DD/M/YYYY"),r.a.createElement("div",null,r.a.createElement(w.a.Link,{eventKey:"".concat(a),style:{width:"100%",padding:"10px 0"}},r.a.createElement(g.a,{className:"m-0"},r.a.createElement(v.a,{md:2},r.a.createElement("i",{className:"fas fa-user-circle"})),r.a.createElement(v.a,{md:10,className:"p-0"},r.a.createElement(g.a,{className:"m-0"},r.a.createElement(v.a,{className:"p-0"},a),r.a.createElement(v.a,{className:"p-0",style:{display:"flex",justifyContent:"end"}},s)),r.a.createElement(g.a,{className:"m-0"},r.a.createElement(v.a,{className:"p-0"},localStorage.getItem("id_user")===e.value.last_chat.user_id?r.a.createElement("i",{className:"fas fa-check"}):r.a.createElement(n.Fragment,null),t),r.a.createElement(v.a,{className:"p-0",style:{display:"flex",justifyContent:"end"}},r.a.createElement(j.a,null,r.a.createElement(j.a.Toggle,{as:"span"},r.a.createElement("i",{className:"fas fa-chevron-down"})),r.a.createElement(j.a.Menu,null,r.a.createElement(j.a.Item,null,"Archieve chat"),r.a.createElement(j.a.Item,null,"Mute notifications"),r.a.createElement(j.a.Item,null,"Delete chat"),r.a.createElement(j.a.Item,null,"Pin chat"),r.a.createElement(j.a.Item,null,"Mark as unread")))))))))},P=t(57),L=t(22),T=t.n(L),U="https://wa-web-clone-be.andreino.tech/",W="https://wa-web-clone-be.andreino.tech/",G=function(e){var a="";return a="string"==typeof e.item.info_chat.username?e.item.info_chat.username:e.item.info_chat.name,r.a.createElement(y.a,{id:"navbar-chat",style:{width:"".concat(8/12*100,"%"),left:"".concat(4/12*100,"%"),borderLeft:"1px solid rgba(155, 154, 154, 0.5)"},className:"p-0"},r.a.createElement(w.a.Link,{className:"mr-auto"},r.a.createElement(g.a,null,r.a.createElement(v.a,{md:2},r.a.createElement("i",{className:"fas fa-user-circle"})),r.a.createElement(v.a,{md:"auto"},r.a.createElement("div",null,a),r.a.createElement("div",null,"Last seen")))),r.a.createElement(w.a,{className:"ml-auto",style:{color:"black"}},r.a.createElement(w.a.Link,null,r.a.createElement("i",{style:{fontSize:"20px"},className:"fas fa-search"})),r.a.createElement(w.a.Link,null,r.a.createElement("i",{style:{fontSize:"20px"},className:"fas fa-paperclip"})),r.a.createElement(w.a.Link,null,r.a.createElement("i",{style:{fontSize:"20px"},className:"fas fa-ellipsis-v"}))))},R=t(84),z=function(){for(var e="#",a=0;a<6;a++)e+="123456789abcdef"[Math.floor(16*Math.random())];return e},B="",D=function(e){var a=R.utc(e.value.created_at).format("D MMM YYYY"),t=!0;""===B?(t=!0,B=a):B===a?t=!1:(B=a,t=!0);var l=parseInt(R().format("D")),c=parseInt(R.utc(e.value.created_at).format("D"));a=l-c===0?"Today":l-c===1?"Yesterday":R.utc(e.value.created_at).format("D MMM YYYY");var s=function(){var a=Object(E.a)(h.a.mark((function a(t){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.deleteMessage(t);case 2:return a.next=4,e.history.replace("/");case 4:return a.next=6,e.getConversation();case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return console.warn("cek chat",R().to(c,"hours"),c),r.a.createElement(n.Fragment,null,t?r.a.createElement("div",{id:"date-chat",className:"m-auto"},a):r.a.createElement(n.Fragment,null),r.a.createElement(j.a,null,void 0===e.value.user?r.a.createElement("div",{id:"user-chat",style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,e.value.message),r.a.createElement("div",{className:"time-chat"},R.utc(e.value.created_at).format("HH:mm")),r.a.createElement(j.a,{className:"button-chat"},r.a.createElement(j.a.Toggle,{as:"span"},r.a.createElement("i",{className:"fas fa-chevron-down"})),r.a.createElement(j.a.Menu,null,r.a.createElement(j.a.Item,null,"Reply"),r.a.createElement(j.a.Item,null,"Forward message"),r.a.createElement(j.a.Item,null,"Starred message"),r.a.createElement(j.a.Item,null,r.a.createElement("div",{onClick:function(){return s(e.value.id)}},"Delete message"))))):r.a.createElement("div",{id:"friend-chat"},void 0===e.item.group_chat_id?r.a.createElement(n.Fragment,null):r.a.createElement("div",{style:{color:"".concat(z()),fontWeight:"bold"}},e.value.user.username),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,e.value.message),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{className:"time-chat"},R.utc(e.value.created_at).format("HH:mm")),r.a.createElement(j.a,{className:"button-chat"},r.a.createElement(j.a.Toggle,{as:"span"},r.a.createElement("i",{className:"fas fa-chevron-down"})),r.a.createElement(j.a.Menu,null,r.a.createElement(j.a.Item,null,"Reply"),r.a.createElement(j.a.Item,null,"Forward message"),r.a.createElement(j.a.Item,null,"Starred message"),r.a.createElement(j.a.Item,null,r.a.createElement("div",{onClick:function(){return s(e.value.id)}},"Delete message")))))))))},H=function(e){var a="";return a="string"==typeof e.item.info_chat.username?e.item.info_chat.username:e.item.info_chat.name,r.a.createElement(P.a.Pane,{eventKey:"".concat(a)},r.a.createElement(G,{item:e.item}),r.a.createElement("div",{id:"box-chat"},e.item.all_chat.map((function(a,t){return r.a.createElement(D,Object.assign({key:t},e,{value:a}))}))),r.a.createElement(S.a.Group,{onSubmit:function(e){return e.preventDefault()},style:{backgroundColor:"#f7f7f7",padding:"10px 0",margin:"0 0 0 5px",width:"911px"}},r.a.createElement(g.a,{style:{margin:"0"}},r.a.createElement(v.a,{sm:1,className:"p-0 m-auto",style:{textAlign:"center"}},r.a.createElement("i",{className:"far fa-grin",style:{fontSize:"30px"}})),r.a.createElement(v.a,{sm:9,className:"p-0"},r.a.createElement(S.a.Control,{onChange:function(a){return e.changeInputMessage(a)},name:"message",type:"text",id:"sendMessage",placeholder:"Type a message",style:{borderRadius:"50px"}})),r.a.createElement(v.a,{sm:1,className:"p-0 m-auto",style:{textAlign:"center"}},r.a.createElement("i",{onClick:function(){return e.postAfterSendMessage(e.item.info_chat.id,e.item.info_chat.username)},className:"far fa-paper-plane",style:{fontSize:"30px"}})),r.a.createElement(v.a,{sm:1,className:"p-0 m-auto",style:{textAlign:"center"}},r.a.createElement("i",{className:"fas fa-microphone",style:{fontSize:"30px"}})))))},F="https://wa-web-clone-be.andreino.tech/",Y=function(e){return{type:"CHANGE_INPUT_USER",payload:e}},K=function(e){Object(u.a)(l,e);var a=Object(m.a)(l);function l(){var e;Object(s.a)(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).componentDidMount=Object(E.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.getAllMessage();case 2:return a.next=4,e.props.getStatus();case 4:e.scrollBottom();case 5:case"end":return a.stop()}}),a)}))),e.postAfterSendMessage=function(){var a=Object(E.a)(h.a.mark((function a(t,n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.sendMessage(t,n);case 2:return a.next=4,e.props.history.replace("/");case 4:return a.next=6,e.props.getAllMessage();case 6:e.scrollBottom(),e.inputReset();case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}(),e.inputReset=function(){document.getElementById("sendMessage").value=""},e.scrollBottom=function(){var e=document.getElementById("box-chat");e&&(e.scrollTop=e.scrollHeight)},e}return Object(o.a)(l,[{key:"render",value:function(){var e=this,a=this.props.listAllMessage;return r.a.createElement(n.Fragment,null,null!==localStorage.getItem("token")?r.a.createElement(P.a.Container,{id:"left-tabs-example",defaultActiveKey:"first"},r.a.createElement(g.a,{style:{marginLeft:"0",marginRight:"15px"}},r.a.createElement(v.a,{sm:4,className:"p-0"},r.a.createElement(C,Object.assign({},this.props,{doLogout:this.props.doLogout,listStatus:this.props.listStatus})),r.a.createElement(w.a,{variant:"pills",className:"flex-column"},r.a.createElement("div",{id:"box-list-chat",style:{marginTop:"118px"}},a.map((function(e,a){return r.a.createElement(w.a.Item,{key:a,style:{borderBottom:"1px solid rgba(155, 154, 154, 0.5)"}},r.a.createElement(M,{value:e}))}))))),r.a.createElement(v.a,{sm:8,className:"p-0"},r.a.createElement(P.a.Content,null,r.a.createElement(P.a.Pane,{eventKey:"first"},r.a.createElement("div",{className:"connected-wa"},r.a.createElement("img",{src:t(77),alt:""}),r.a.createElement("h1",null,"Keep your phone connected"),r.a.createElement("span",null,"Whatsapp connect to your phone to sync messages. To reduce data usage, connect your phone to Wi-Fi"))),a.map((function(a){return r.a.createElement(n.Fragment,null,r.a.createElement(H,{changeInputMessage:e.props.changeInputMessage,postAfterSendMessage:e.postAfterSendMessage,item:a}))})))))):r.a.createElement(d.a,{to:{pathname:"/WA-web-clone/login"}}))}}]),l}(n.Component),J={sendMessage:function(e,a){return function(){var t=Object(E.a)(h.a.mark((function t(n,r){var l,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l="",c={},void 0===a?(l=U+"message_group",c={group_chat_id:e,message:r().chat.message}):(l=U+"personal_message",c={user2_id:e,message:r().chat.message}),t.prev=3,t.next=6,T()({method:"POST",url:l,params:c,headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.error("failed to send message");case 11:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e,a){return t.apply(this,arguments)}}()},changeInputMessage:function(e){return{type:"CHANGE_INPUT_MESSAGE",payload:e}},deleteMessage:function(e){return function(){var a=Object(E.a)(h.a.mark((function a(t,n){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,T()({method:"DELETE",url:"".concat(U,"personal_message/").concat(e),headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 3:a.next=8;break;case 5:a.prev=5,a.t0=a.catch(0),console.error("message cannot delete");case 8:case"end":return a.stop()}}),a,null,[[0,5]])})));return function(e,t){return a.apply(this,arguments)}}()},getAllMessage:function(){return function(){var e=Object(E.a)(h.a.mark((function e(a,t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get(U+"all_message",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 3:n=e.sent,a({type:"GET_ALL_MESSAGE",payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("message not found");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a,t){return e.apply(this,arguments)}}()},getStatus:function(){return function(){var e=Object(E.a)(h.a.mark((function e(a){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get(W+"status",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 3:t=e.sent,a({type:"GET_STATUS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("cannot get status");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()},doLogout:function(){return Object(E.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("token"),localStorage.removeItem("id_user"),localStorage.removeItem("username"),localStorage.removeItem("phone_number");case 4:case"end":return e.stop()}}),e)})))},getUserStatus:function(e){return function(){var a=Object(E.a)(h.a.mark((function a(t){var n;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,T.a.get(W+"status/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 3:n=a.sent,t({type:"GET_USER_STATUS",payload:n.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error("cannot get user status");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}},$=Object(i.b)((function(e){return{dataUser:e.user,listAllMessage:e.chat.listAllMessage,listStatus:e.status.listStatus,userStatus:e.status.userStatus}}),J)(K),q=t(54),Q=function(e){Object(u.a)(l,e);var a=Object(m.a)(l);function l(){var e;Object(s.a)(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).postLogin=Object(E.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.doLogin();case 2:null!==localStorage.getItem("token")&&e.props.history.push("/");case 3:case"end":return a.stop()}}),a)}))),e}return Object(o.a)(l,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,null!==localStorage.getItem("token")?r.a.createElement(d.a,{to:{pathname:"/WA-web-clone"}}):r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"header-wa-web"},r.a.createElement("div",{style:{padding:"27px auto 28px",margin:"auto",maxWidth:"1000px"}},r.a.createElement("img",{className:"logo-wa-web",src:t(77),alt:""}),r.a.createElement("span",null,"WHATSAPP WEB"))),r.a.createElement("div",{className:"window-wa-web container"},r.a.createElement("h1",{style:{textAlign:"center"}},"LOGIN"),r.a.createElement("br",null),r.a.createElement(S.a,{onSubmit:function(e){return e.preventDefault()}},r.a.createElement(S.a.Group,{as:g.a,controlId:"formPlaintextPhoneNumber"},r.a.createElement(v.a,{sm:"1"}),r.a.createElement(S.a.Label,{column:!0,sm:"2"},"Phone Number"),r.a.createElement(v.a,{sm:"8"},r.a.createElement(S.a.Control,{name:"loginPhoneNumber",type:"text",placeholder:"Phone Number",onChange:function(a){return e.props.changeInputUser(a)}})),r.a.createElement(v.a,{sm:"1"})),r.a.createElement(S.a.Group,{as:g.a,controlId:"formPlaintextPassword"},r.a.createElement(v.a,{sm:"1"}),r.a.createElement(S.a.Label,{column:!0,sm:"2"},"Password"),r.a.createElement(v.a,{sm:"8"},r.a.createElement(S.a.Control,{name:"loginPassword",type:"password",placeholder:"Password",onChange:function(a){return e.props.changeInputUser(a)}})),r.a.createElement(v.a,{sm:"1"})),r.a.createElement(q.a,{as:"input",type:"submit",value:"Login",onClick:function(){return e.postLogin()}})," "),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("span",null,"Don't have an account? ",r.a.createElement(p.b,{className:"switch-link",to:"/register"},"Click here!"))))))}}]),l}(n.Component),V={changeInputUser:Y,doLogin:function(){return function(){var e=Object(E.a)(h.a.mark((function e(a,t){var n,r,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t().user.loginPhoneNumber,r=t().user.loginPassword,e.prev=2,e.next=5,T.a.get(F+"login",{params:{phone_number:n,password:r}});case 5:return l=e.sent,localStorage.setItem("token",l.data.token),e.next=9,T.a.get(F+"user",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){localStorage.setItem("id_user",e.data.id),localStorage.setItem("username",e.data.username),localStorage.setItem("phone_number",e.data.phone_number)})).catch((function(e){alert("Data tidak ditemukan")}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),alert("Anda belum terdaftar. Silahkan daftar terlebih dahulu!");case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(a,t){return e.apply(this,arguments)}}()}},X=Object(i.b)((function(e){return{dataUser:e.user}}),V)(Q),Z=function(e){Object(u.a)(l,e);var a=Object(m.a)(l);function l(){var e;Object(s.a)(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).postRegister=Object(E.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.register();case 2:null!==localStorage.getItem("token")&&e.props.history.push("/");case 3:case"end":return a.stop()}}),a)}))),e}return Object(o.a)(l,[{key:"render",value:function(){var e=this;return r.a.createElement(n.Fragment,null,null!==localStorage.getItem("token")?r.a.createElement(d.a,{to:{pathname:"/WA-web-clone"}}):r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"header-wa-web"},r.a.createElement("div",{style:{padding:"27px auto 28px",margin:"auto",maxWidth:"1000px"}},r.a.createElement("img",{className:"logo-wa-web",src:t(77),alt:""}),r.a.createElement("span",null,"WHATSAPP WEB"))),r.a.createElement("div",{className:"window-wa-web container"},r.a.createElement("h1",{style:{textAlign:"center"}},"REGISTER"),r.a.createElement("br",null),r.a.createElement(S.a,null,r.a.createElement(S.a.Group,{as:g.a,controlId:"formPlaintextUsername"},r.a.createElement(v.a,{sm:"1"}),r.a.createElement(S.a.Label,{column:!0,sm:"2"},"Username"),r.a.createElement(v.a,{sm:"8"},r.a.createElement(S.a.Control,{name:"registerUsername",type:"text",placeholder:"Username",onChange:function(a){return e.props.changeInputUser(a)}})),r.a.createElement(v.a,{sm:"1"})),r.a.createElement(S.a.Group,{as:g.a,controlId:"formPlaintextPhoneNumber"},r.a.createElement(v.a,{sm:"1"}),r.a.createElement(S.a.Label,{column:!0,sm:"2"},"Phone Number"),r.a.createElement(v.a,{sm:"8"},r.a.createElement(S.a.Control,{name:"registerPhoneNumber",type:"text",placeholder:"Phone Number",onChange:function(a){return e.props.changeInputUser(a)}})),r.a.createElement(v.a,{sm:"1"})),r.a.createElement(S.a.Group,{as:g.a,controlId:"formPlaintextPassword"},r.a.createElement(v.a,{sm:"1"}),r.a.createElement(S.a.Label,{column:!0,sm:"2"},"Password"),r.a.createElement(v.a,{sm:"8"},r.a.createElement(S.a.Control,{name:"registerPassword",type:"password",placeholder:"Password",onChange:function(a){return e.props.changeInputUser(a)}})),r.a.createElement(v.a,{sm:"1"})),r.a.createElement(q.a,{as:"input",type:"submit",value:"Register",onClick:function(){return e.postRegister()}})," "),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("span",null,"Have an account? ",r.a.createElement(p.b,{className:"switch-link",to:"/login"},"Click here!"))))))}}]),l}(n.Component),ee={changeInputUser:Y,register:function(){return function(){var e=Object(E.a)(h.a.mark((function e(a,t){var n,r,l,c,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t().user.registerUsername,r=t().user.registerPhoneNumber,l=t().user.registerPassword,c={username:n,phone_number:r,password:l},e.prev=4,e.next=7,T.a.post(F+"user",c);case 7:return s=e.sent,console.log(s),e.prev=9,e.next=12,T.a.get(F+"login",{params:{phone_number:r,password:l}});case 12:return o=e.sent,localStorage.setItem("token",o.data.token),e.next=16,T.a.get(F+"user",{headers:{Authorization:"Bearer "+t().user.token}}).then((function(e){localStorage.setItem("id_user",e.data.id),localStorage.setItem("username",e.data.username),localStorage.setItem("phone_number",e.data.phone_number)})).catch((function(e){alert("Data tidak ditemukan")}));case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(9),alert("Anda belum terdaftar. Silahkan daftar terlebih dahulu!");case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(4),alert("Nomor sudah terdaftar");case 26:case"end":return e.stop()}}),e,null,[[4,23],[9,18]])})));return function(a,t){return e.apply(this,arguments)}}()}},ae=Object(i.b)((function(e){return{dataUser:e.user}}),ee)(Z),te=t(56),ne=t(95),re=t(55),le=t(23),ce={token:"",biodata:"",isLogin:!1};var se={listAllMessage:[]};var oe={listStatus:[],userStatus:[]};var ue=Object(te.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_INPUT_USER":return Object(le.a)(Object(le.a)({},e),{},Object(re.a)({},a.payload.target.name,a.payload.target.value));default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CHANGE_INPUT_MESSAGE":return Object(le.a)(Object(le.a)({},e),{},Object(re.a)({},a.payload.target.name,a.payload.target.value));case"GET_ALL_MESSAGE":return Object(le.a)(Object(le.a)({},e),{},{listAllMessage:a.payload});default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_STATUS":return Object(le.a)(Object(le.a)({},e),{},{listStatus:a.payload});case"GET_USER_STATUS":return Object(le.a)(Object(le.a)({},e),{},{userStatus:a.payload});default:return e}}}),me=Object(te.d)(ue,Object(te.a)(ne.a));me.subscribe((function(){return console.warn("cek store",me.getState())}));var ie=me,pe=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(i.a,{store:ie},r.a.createElement(p.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"".concat("/WA-web-clone","/"),component:$}),r.a.createElement(d.b,{exact:!0,path:"".concat("/WA-web-clone","/login"),component:X}),r.a.createElement(d.b,{exact:!0,path:"".concat("/WA-web-clone","/register"),component:ae}))))}}]),t}(n.Component);var de=function(){return r.a.createElement(pe,null)},fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function he(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(131),t(132);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/WA-web-clone",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/WA-web-clone","/service-worker.js");fe?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):he(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):he(a,e)}))}}()},77:function(e,a,t){e.exports=t.p+"static/media/whatsapp-icon-logo.2b5545f8.png"},97:function(e,a,t){e.exports=t(133)}},[[97,1,2]]]);
//# sourceMappingURL=main.73393ae9.chunk.js.map